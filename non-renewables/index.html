<!DOCTYPE html>
<html lang="en">
<head>
   <link rel="icon" href="/favicon.ico" type="image/x-icon">
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Fluid: Data-Linked Visualisations</title>
   <link href="../css/styles.css" rel="stylesheet" type="text/css">
   <link href="../css/view-styles.css" rel="stylesheet" type="text/css">
   <script src="https://kit.fontawesome.com/20cf8b42c0.js" crossorigin="anonymous"></script>
   <script src="../shared/util.js"></script>
   <style>
      .data-pane {
         max-width: 475px;
      }
   </style>
</head>
<body>

<div id="grid" class="grid-container data-pane-hidden">
   <div></div>
   <div></div>
   <div class="flex-left-align">
      <h4>Non-Renewable Energy plots</h4>
   </div>

   <div class="flex-right-align data-pane">
      <div id="fig-input"></div>
      <p>Tracking how data flows through a computation allows us to do more than just hide away or grey out
      unused data. Try some of the following:</p>

      <ul>
         <li>Mouse over the <code>nuclearCap</code> data. Various points in the scatter plot will be
         highlighted in blue as you move around: these are the outputs which consume the data element under
         your mouse.</li>

         <li>As you move over <code>nuclearCap</code> values, notice that three other values are also
         highlighted with the blue border. These are its <span class="highlight">related inputs</span>: the
         other inputs needed to compute the scatter plot point. Each point in the scatter plot represents a
         year; for a given year, the nuclear capacities of 4 countries were added together to compute the
         x-coordinate, which is why in this case we see 4 mutually related values.</li>

         <li>Now try the same with <code>nuclearOut</code>. Now the related inputs also include the coal, gas
         and petrol output for that country. That's because these data are also used to compute the
         <span class="highlight">bar segments</span> in the bar chart. You'll see the various bar segments
         being highlighted with a thin border as you move around in that column.</li>
      </ul>
   </div>
   <div onclick="toggleDataPane('grid')">
      <i class="data-pane-button toggle-button fa-solid fa-eye-slash"></i>
   </div>
   <div class="flex-left-align">
      <div id="fig">
         <div class="fig-loading">loading figure(s)</div>
      </div>
      <p>You can also interact with the output. Try the following:</p>
      <ul>
         <li>Move your mouse over segments in the bar chart. You'll see the data needed to compute the height
         of the segment. You'll also see that there is always a scatter plot point highlighted on the right.
         This secondary highlighting picks out the <span class="highlight">related outputs</span>: the other
         outputs that make use of the selected data. This feature is called <span class="highlight">brushing
         and linking</span> in data visualisation, but here we can do it in a transparent way. Related input
         and related outputs are
         <span class="highlight">dual</span> notions.</li>

         <li>Now click on one of the bar segments. That turns the highlighting on the bar into a <span
         class="highlight">persistent selection</span>; the bar will become darker and the corresponding input
         selection will turn green. Now move your mouse over to the scatter plot. With the first selection
         still active, you can now interact with different scatter plot points to see how the data they use
         intersects with the data for the bar segment. In particular any scatter plot points which are
         “related” to the selected bar segment will demand data which overlaps with the data needed for the
         bar segment.</li>
      </ul>
   </div>
</div>

<script type="module">
   import { drawCode, loadFigure } from "../shared/load-figure.js"
   loadFigure("spec.json")()
</script>
</body>
</html>
